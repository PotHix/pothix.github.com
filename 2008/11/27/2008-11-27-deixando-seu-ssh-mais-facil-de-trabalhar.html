<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">

    <title>PotHix blog - Deixando seu ssh mais facil de trabalhar</title>

    <!-- Prefetch DNS for external resources to speed up loading time -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">

    <!--[if lt IE 9]>
	<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js"></script>
	<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->

    <link rel="alternate" type="application/atom+xml" title="Atom Feed (all posts)" href="/feed.xml" />

    <link rel="icon" type="image/png" href="/images/favico.png">
    <link rel='stylesheet' href='/stylesheets/style.css' type='text/css' media='all' />
    <link rel='stylesheet' href='/stylesheets/stag-custom-styles.css' type='text/css' media='all' />

    <link rel="stylesheet" href="/stylesheets/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel='stylesheet' id='doctype-fonts-css'  href='http://fonts.googleapis.com/css?family=Rokkitt%3A700%7CLato%3A300%2C400%2C700%2C300italic&#038;subset=latin' type='text/css' media='all' />

    <body class="blog sticky-nav chrome stagtools">
      <div id="page" class="hfeed site">
	<header id="masthead" class="site-header site-header--fixed" role="banner">
          <div class="inside">
	    <div id="navbar" class="navbar">
  <nav id="site-navigation" class="navigation main-navigation" role="navigation">
    <ul id="primary-menu" class="primary-menu">
      <li id="menu-item-13" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-13">
	<a href="/">Home</a>
      </li>
      <li id="menu-item-14" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14">
	<a href="#">Portfolio</a>
      </li>
      <li id="menu-item-53" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-53">
	<a href="#">About me</a>
      </li>
    </ul>
  </nav>
</div>

            <a class="site-branding" href="/" title="Doctype" rel="home">
              <span class="logo-container">
                <img data-at2x src="/images/logo.png" alt="Website's logo">
              </span>
            </a>
          </div>
	</header>


<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-#{current_page.data.id}" class="post-#{current_page.data.id} post type-post status-publish format-standard has-post-thumbnail hentry category-wordpress tag-version tag-wordpress-2 mix">

         <header class="entry-header">
      	   <h2 class="entry-title">
	    Deixando seu ssh mais facil de trabalhar
          </h2>
        </header>

        <div class="entry-meta">
          <span class="posted-on">
	    Published at <a rel="bookmark" href="/2008/11/27/2008-11-27-deixando-seu-ssh-mais-facil-de-trabalhar.html">2008/11/27</a><time class="updated" datetime="2008-11-27T00:00:00">Nov 27, 2008</time>
          </span>
          <span class="cat-links">
            In Category <a rel="category tag" href="/categories/linux.html">linux</a>
          </span>
          <span class="tags-links">
  	    Tags: <a rel="tag" href="/tags/tech.html">tech</a>,<a rel="tag" href="/tags/linux.html">linux</a>
          </span>
        </div>

        <div class="entry-content">
          <p>Se você usa bastante <a href="http://en.wikipedia.org/wiki/Ssh">SSH</a> vou
mostrar um método para facilitar um pouco a sua vida. Sei que existem
métodos melhores para trabalhar com vários SSH ao mesmo tempo,
geralmente a galera que administra vários servidores costuma usar
screen para se manter conectado, mas eu como conecto de vez em quando
para ver algo em algum dos servidores prefiro configurar desse modo.</p>

<p>A primeira coisa a se fazer é configurar o seu <code>.ssh/config</code></p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre>Host server
Hostname 192.168.1.2
User pothix
ForwardAgent yes
</pre></td></tr></tbody></table>
</div>

<p>Sendo que Host é o que você vai usar quando for chamar por ssh (por
exemplo &ldquo;ssh server&rdquo;), Hostname é o IP do server, User é o usuário no
servidor e ForwardAgent para usar o nosso ssh-agent.</p>

<p>Tem um totorial bem legal sobre
<a href="http://www.guiadohardware.net/tutoriais/dominando-ssh/pagina3.html">configuração de SSH no guia do Hardware</a>
que explica algumas opções.</p>

<p>Vamos agora configurar o nosso ssh-agent, que é um agente de
autenticação que gerencia as nossas conexões ssh na sua seção de
terminal.</p>

<p>Primeiramente você deve iniciar o seu ssh-agent:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ eval -s `ssh-agent -s`
</pre></td></tr></tbody></table>
</div>

<p>Isso via iniciar o seu <code>ssh-agent</code> e já definir as variáveis de ambiente que ele precisa para funcionar na sua instancia atual do terminal.</p>

<p>Agora que já temos o nosso ssh-agent funcionando, vamos criar a nossa chave privada para utilizar:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre>$ cd ~/.ssh
$ ssh-keygen -t rsa -f minha-chave
</pre></td></tr></tbody></table>
</div>

<p>Com isso ele pedirá a a senha para sua chave e depois de você digitar
e confirmar ele criará dois arquivos de chave:</p>

<ul>
<li>minha-chave</li>
<li>minha-chave.pub</li>
</ul>

<p>O arquivo minha-chave é o arquivo que vamos usar para facilitar a
nossa vida, e o arquivo minha-chave.pub é o arquivo publico de
identificação da sua chave, falaremos mais disso depois.</p>

<p>Agora com nossa chave em mãos já podemos acrescentar ela no nosso
ssh-agent, utiliando o <code>ssh-add</code>:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ ssh-add ~/.ssh/minha-chave
</pre></td></tr></tbody></table>
</div>

<p>Ele vai pedir a senha da sua chave e depois vai adicionar ela no
ssh-agent e agora é só alegria! :)</p>

<p>Agora vamos acessar o servidor que cadastramos no nosso
<code>~/.ssh/config</code></p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ ssh server
</pre></td></tr></tbody></table>
</div>

<p>Lembra dele, que fizemos lá em cima? Pois é agora vamos acessar ele
sem precisar ficar digitando a senha toda vez, apenas usando a nossa
chave! :D</p>

<p>Lembrando que tem um porém! Isso só vai funcionar se nós estivermos
autorizados a acessar o servidor sem senha, utilizando a chave, e para
isso temos que ter o conteúdo do nosso minha-chave.pub no
<code>$HOME/.ssh/authorized_keys</code> do servidor, e o problema está resolvido!
:)</p>

<p>Isso para mim é uma mão na roda, e espero que seja para vocês
tambem. ;)</p>

<p><em>Old comments by: Adelar S.Q. | Not available anymore. :(</em></p>

	  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'pothixcom';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

        </div>
      </article>
    </main>
  </div>
</div>

	<footer class="footer-widget-area">
          <div class="inside">
            <div class="grids">
              <aside id="stag-dribbble-2" class="widget grid-4 stag-dribbble">
		<div class='stag-dribbble-widget'>
		  <h3 class="widget-title">
		    <span>A Dribbble widget</span>
		  </h3>
		  <ul class="dribbbles">
                    <li class="dribbble-shot">
                      <a href="https://dribbble.com/shots/2049446-Higgs-A-portfolio-WordPress-theme" class="dribbble-link" title="Higgs - A portfolio WordPress theme" target="_blank"><img src="https://d13yacurqjgara.cloudfront.net/users/271608/screenshots/2049446/higgs.jpg" alt="Higgs - A portfolio WordPress theme"></a>
		    </li>
                  </ul>
		</div>
	      </aside>

	      <aside id="recent-posts-2" class="widget grid-4 widget_recent_entries">
		<h3 class="widget-title">
		  <span>latest blog entries</span>
		</h3>
		
		<ul>
		    <li>
		      <a href="/2015/05/25/2015-05-25-new-layout-of-pothix-blog.html">New layout of PotHix blog</a> <span class="post-date">May 25, 2015</span>
		    </li>
		    <li>
		      <a href="/2014/02/14/2014-02-14-ruby-python-e-native-threads.html">Ruby, Python e native threads</a> <span class="post-date">Feb 14, 2014</span>
		    </li>
		    <li>
		      <a href="/2013/12/03/2013-12-03-golang-and-1-2-version-performance-improvement.html">Golang and 1.2 version performance improvement</a> <span class="post-date">Dec  3, 2013</span>
		    </li>
		    <li>
		      <a href="/2013/09/17/2013-09-17-o-guru-sp-e-seus-5-anos-de-vida.html">O Guru-SP e seus 5 anos de vida</a> <span class="post-date">Sep 17, 2013</span>
		    </li>
                </ul>
              </aside>

	      <aside id="text-2" class="widget grid-4 widget_text">
		<h3 class="widget-title">
		  <span>More about me</span>
		</h3>
		<div class="textwidget">
		  I'm a passionate programmer that likes to play with different things like games in the browser, networking, hypervisors and some financing in my spare time.
		  <br/><br/>
		  I've been playing with Python, Ruby, Javascript and a little bit of Golang and C in the past months, hope to spread good information here. ;)
		</div>
              </aside>
            </div>
          </div>
	</footer>

	<footer id="colophon" class="site-footer" role="contentinfo">
          <div class="site-info">
            <div class="grids">
              <div class="grid-6">
                © 2015 <a href="http://demo.codestag.com/doctype/">Doctype</a> WordPress Theme by <a href="//codestag.com">Codestag</a> modified by PotHix
	      </div>
            </div>
          </div>
	</footer>
      </div>
    </body>
</html>

